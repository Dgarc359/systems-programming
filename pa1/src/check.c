int check(char str[]) {
  // returns 1 if input stream contains a balanced string
  // 0 otherwise

  // use most recent list of pairs
  // use a stack to check the balance of opening and closing symbols
}